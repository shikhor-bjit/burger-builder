(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),c=n.n(i),l=(n(59),n(9)),o=n(11),s=n(10),d=(n(60),n(17)),u=(n(61),n(62),n(63),n(46)),m=n.n(u),g=function(e){return r.a.createElement("div",{className:"Logo",style:{height:e.height}},r.a.createElement("img",{src:m.a,alt:"BurgerLogo"}))},p=(n(64),n(65),n(20)),E=function(e){var t=e.link;return r.a.createElement("li",{className:"NavigationItem"},r.a.createElement(p.b,{exact:!0,to:t},e.children))},h=r.a.createContext({token:"",updateToken:function(){}}),f=function(e){var t=Object(a.useContext)(h),n=t.token;t.updateToken;return r.a.createElement("ul",{className:"NavigationItems"},n?r.a.createElement(E,{link:"/burger-builder"},"Burger Builder"):null,n?r.a.createElement(E,{link:"/burger-builder/order-list"},"Order List"):null,n?r.a.createElement(E,{link:"/burger-builder/logout"},"Log Out"):r.a.createElement(E,{link:"/burger-builder/authenticate"},"Login"))},b=(n(70),function(e){return r.a.createElement("div",{className:"ToggleDrawer",onClick:e.clicked},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),v=function(e){return r.a.createElement("div",{className:"Toolbar"},r.a.createElement(b,{clicked:e.clicked}),r.a.createElement(g,{height:"80%"}),r.a.createElement("div",{className:"DesktopOnly"},r.a.createElement(f,null)))},k=(n(71),function(e){return r.a.createElement("div",{className:"Aux"},e.children)}),O=(n(72),function(e){var t=e.clicked;return e.show?r.a.createElement("div",{className:"Backdrop",onClick:t}):null});O.defaultProps={shouldShow:!1};var y=O,N=function(e){var t=["SideDrawer Close"];return e.open&&(t=["SideDrawer Open"]),r.a.createElement(k,null,r.a.createElement(y,{show:e.open,clicked:e.clicked}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement(g,{height:"15%"}),r.a.createElement(f,null)))},S=n(7),I=n(13),j=(n(73),n(26)),C=n.n(j),w=C.a.create({baseURL:"https://burger-builder-40b7d.firebaseio.com"}),T=(n(91),function(e){var t=e.clicked,n=e.show;return r.a.createElement(k,null,r.a.createElement(y,{show:n,clicked:t}),r.a.createElement("div",{className:"Modal",style:{transform:n?"translate(0)":"translateY(-100vh)"}},e.children))});T.defaultProps={show:!1};var _=T,B=n(52),D=(n(92),n(15)),P=n.n(D),x=function(e){var t;switch(e.type){case"bread-top":t=r.a.createElement("div",{className:P.a.BreadTop},r.a.createElement("div",{className:P.a.Seeds1}),r.a.createElement("div",{className:P.a.Seeds2}));break;case"bread-bottom":t=r.a.createElement("div",{className:P.a.BreadBottom});break;case"meat":t=r.a.createElement("div",{className:P.a.Meat});break;case"cheese":t=r.a.createElement("div",{className:P.a.Cheese});break;case"bacon":t=r.a.createElement("div",{className:P.a.Bacon});break;case"salad":t=r.a.createElement("div",{className:P.a.Salad});break;default:t=null}return t},A=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(B.a)(Array(e.ingredients[t])).map((function(e,n){return r.a.createElement(x,{type:t,key:t+n})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=r.a.createElement("p",null,"please start adding ingredients")),r.a.createElement("div",{className:"Burger"},r.a.createElement(x,{type:"bread-top"}),t,r.a.createElement(x,{type:"bread-bottom"}))},L=(n(93),function(e){return r.a.createElement("div",{className:"Spinner"},"Loading....")}),R=(n(94),n(95),function(e){var t;switch(e.type){case"Success":t="Success";break;case"Danger":t="Danger";break;default:t="Default"}return r.a.createElement("div",{className:"Button"},r.a.createElement("button",{className:t,onClick:e.clicked},e.children))}),F=function(e){var t=e.clicked,n=e.proceedOrder,a=e.totalCost,i=e.ingredients;return r.a.createElement("div",{className:"OrderSummary"},r.a.createElement("p",null,"Oh Yeah! You are ordering a Burger with the following items:"),r.a.createElement("ul",null,Object.keys(i).map((function(e){return r.a.createElement("li",{key:e},e,": ",i[e])}))),r.a.createElement("strong",null,"Your Total Cost: ",a," TK"),r.a.createElement("div",{className:"ButtonBlock"},r.a.createElement(R,{type:"Danger",clicked:t},"CANCEL"),r.a.createElement(R,{type:"Success",clicked:n},"CONTINUE")))},M=(n(96),n(97),function(e){var t=e.addIngredients,n=e.ingredientCount,a=e.removeIngredients;return r.a.createElement("div",{className:"SingleController"},r.a.createElement("span",{className:"Label"},e.name),r.a.createElement("button",{className:"Less",disabled:0===n,onClick:function(){return a(e.name)}},"Less"),r.a.createElement("button",{onClick:function(){return t(e.name)},className:"More"},"More"),"(",e.price?e.price:0," tk / item)")}),G=function(e){var t=e.totalCost,n=e.placeOrder,a=e.ingredients,i=e.addIngredients,c=e.ingredientPrices,l=e.isOrderPlaceAble,o=e.removeIngredients;return r.a.createElement(k,null,r.a.createElement("p",null,"Total Cost: ",r.a.createElement("strong",null,t," TK.")),r.a.createElement("div",{className:"IngredientController"},Object.keys(e.ingredientPrices).map((function(e,t){return r.a.createElement(M,{key:e+t,name:e,addIngredients:i,removeIngredients:o,ingredientCount:a[e],price:c[e]})})),r.a.createElement("button",{onClick:n,disabled:l},"Place Order")))};G.defaultProps={cost:0};var H=G,Y=n(29),U=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,message:null,isPlacedOrder:!1},e.placeOrder=function(){var t=0,n=!0,a=Object(I.a)({},e.props.ingredients);Object.values(a).forEach((function(e){return t+=e})),0===t&&(n=!1),e.setState({isPlacedOrder:n})},e.cancelOrder=function(){e.setState({isPlacedOrder:!1,message:null})},e.proceedOrder=function(){e.setState({loading:!0}),w.post("/orders.json?auth=".concat(localStorage.getItem("token")),e.props.ingredients).then((function(t){e.setState({loading:!1,message:"Order placed! We will reach you soon."})})).catch((function(t){e.setState({loading:!1,message:t.message})}))},e.isOrderPlaceAble=function(){var t=!0;return Object.keys(e.props.ingredients).forEach((function(n){e.props.ingredients[n]>0&&(t=!1)})),t},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.onIngredientFetch()}},{key:"render",value:function(){var e,t,n=!1;return this.props.error?(n=!0,e=this.props.error):this.props.ingredients?(e=r.a.createElement(F,{ingredients:this.props.ingredients,totalCost:this.props.totalCost,clicked:this.cancelOrder,proceedOrder:this.proceedOrder}),this.state.loading&&(e=r.a.createElement(L,null)),this.state.message&&(e=this.state.message),t=r.a.createElement(k,null,r.a.createElement(A,{ingredients:this.props.ingredients}),r.a.createElement(H,{ingredientPrices:this.props.ingredientPrices,addIngredients:this.props.onIngredientAdd,removeIngredients:this.props.onIngredientRemove,totalCost:this.props.totalCost,placeOrder:this.placeOrder,ingredients:this.props.ingredients,isOrderPlaceAble:this.isOrderPlaceAble()}))):t=r.a.createElement(L,null,"Loading...."),this.state.isPlacedOrder&&(n=!0),r.a.createElement("div",{className:"BurgerBuilder"},r.a.createElement(_,{show:n,clicked:this.cancelOrder},e),t)}}]),n}(a.Component),V=Object(Y.b)((function(e){return{ingredients:e.builder.ingredients,ingredientPrices:e.builder.ingredientPrices,totalCost:e.builder.totalCost,error:e.builder.error}}),(function(e){return{onIngredientAdd:function(t){return e({type:"ADD_INGREDIENT",ingredientName:t})},onIngredientRemove:function(t){return e({type:"REMOVE_INGREDIENT",ingredientName:t})},onIngredientFetch:function(){return e((function(e){w.get("/ingredients.json").then((function(t){e(function(e){return{type:"FETCH_INGREDIENT",ingredients:e.data}}(t))})).catch((function(t){e(function(e){return{type:"FETCH_INGREDIENT_FAILED",error:e.message}}(t))}))}))}}}))(U),J=(n(45),n(30)),K=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loginForm:{email:{label:"Email",elementType:"input",elementConfig:{type:"email",placeholder:"Enter Your Email"},validationHandler:function(e){if(0===e.trim().length)return"* Email Required"},initialValue:""},password:{label:"Password",elementType:"input",elementConfig:{type:"password",placeholder:"Enter Your Password"},validationHandler:function(e){if(0===e.trim().length)return"* Password Required"},initialValue:""}},loading:!1,redirect:!1},e.onSubmit=function(t){e.setState({loading:!0});t.returnSecureToken=!0,C.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBpPcBC_CkREoXA5lM4yd1qrek9i1rAU8U",t).then((function(t){e.context.updateToken(t.data.idToken),localStorage.setItem("token",t.data.idToken),e.setState({loading:!1,redirect:!0})})).catch((function(t){e.setState({loading:!1,redirect:!1})}))},e}return Object(d.a)(n,[{key:"prepareFormikFields",value:function(e,t){var n=this.state.loginForm;return Object.keys(n).map((function(a,i){return r.a.createElement(k,{key:a+i},r.a.createElement("p",null,n[a].label?n[a].label:a),r.a.createElement(J.a,{name:a,type:n[a].elementConfig.type,placeholder:n[a].elementConfig.placeholder,validate:n[a].validationHandler}),e[a]&&t[a]?r.a.createElement("div",{className:"FieldError"},e[a]):null)}))}},{key:"render",value:function(){var e=this,t=this.props.location.state&&this.props.location.state.referer||"/burger-builder",n={},a=this.state.loginForm;Object.keys(a).forEach((function(e){return n[e]=a[e].initialValue}));var i=this.state.redirect?r.a.createElement(S.a,{to:t}):this.state.loading?r.a.createElement(L,null):r.a.createElement(J.c,{initialValues:n,onSubmit:this.onSubmit},(function(t){var n=t.errors,a=t.touched;return r.a.createElement(J.b,null,e.prepareFormikFields(n,a),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(R,{type:"Success"},"LOGIN")))}));return r.a.createElement("div",{className:"Auth"}," ",i," ")}}]),n}(a.Component);K.contextType=h;var W=K,q=(n(99),function(e){return r.a.createElement("div",{className:"Order"},r.a.createElement("strong",null,"Order: ",e.serial),r.a.createElement("ul",null,Object.keys(e.items).map((function(t,n){return r.a.createElement("li",{key:t+n},t," : ",e.items[t])}))))}),z=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={orders:null,hasError:!1,errMessage:"",loading:!1},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),w.get("/orders.json?auth=".concat(localStorage.getItem("token"))).then((function(t){e.setState({orders:t.data,hasError:!1,loading:!1})})).catch((function(t){console.log(t),e.setState({hasError:!0,errMessage:t.message,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.hasError?r.a.createElement("p",{style:{backgroundColor:"crimson",display:"block",padding:"5px",color:"white",borderRadius:"5px",textTransform:"capitalize",boxSizing:"border-box",width:"400px",minWidth:"30%",margin:"10px auto"}},this.state.errMessage):null===this.state.orders?r.a.createElement("p",null,"No Order Found"):Object.keys(this.state.orders).map((function(t,n){return r.a.createElement(q,{key:t,serial:n+1,items:e.state.orders[t]})}));return this.state.loading&&(t=r.a.createElement(L,null,"Loading...")),r.a.createElement("div",{className:"OrderList"},t)}}]),n}(r.a.Component),X=n(53);var $=function(e){var t=e.component,n=Object(X.a)(e,["component"]),i=Object(a.useContext)(h),c=i.token,l=i.updateToken;return Object(a.useEffect)((function(){l(localStorage.getItem("token"))}),[]),r.a.createElement(S.b,Object.assign({},n,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(S.a,{to:{pathname:"/burger-builder/authenticate",state:{referer:e.location}}})}}))},Q=function(){var e=Object(a.useContext)(h).updateToken;return Object(a.useEffect)((function(){e(null),localStorage.removeItem("token")}),[]),r.a.createElement(S.a,{to:"/burger-builder/authenticate"})},Z=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isSideDrawerOpen:!1},e.closeSideDrawer=function(){e.setState({isSideDrawerOpen:!1})},e.sideDrawerToggleHandler=function(){e.setState((function(e){return{isSideDrawerOpen:!e.isSideDrawerOpen}}))},e}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Layout"},r.a.createElement(v,{clicked:this.sideDrawerToggleHandler}),r.a.createElement(N,{open:this.state.isSideDrawerOpen,clicked:this.closeSideDrawer}),r.a.createElement(S.d,null,r.a.createElement($,{path:"/burger-builder",exact:!0,component:V}),r.a.createElement($,{path:"/burger-builder/order-list",exact:!0,component:z}),r.a.createElement(S.b,{path:"/burger-builder/authenticate",exact:!0,component:W}),r.a.createElement(S.b,{path:"/burger-builder/logout",exact:!0,component:Q})))}}]),n}(r.a.Component),ee=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={token:localStorage.getItem("token"),updateToken:function(t){e.setState({token:t})}},e.render=function(){return r.a.createElement(h.Provider,{value:{token:e.state.token,updateToken:e.state.updateToken}},r.a.createElement("div",{className:"App"},r.a.createElement(Z,null)))},e}return n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=n(19),ne=n(22),ae={ingredients:null,ingredientPrices:{salad:10,bacon:20,cheese:30,meat:100},totalCost:10,error:null},re=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_INGREDIENT":e=Object(I.a)({},t,{ingredients:Object(I.a)({},t.ingredients,Object(ne.a)({},n.ingredientName,t.ingredients[n.ingredientName]+1)),totalCost:t.totalCost+t.ingredientPrices[n.ingredientName]});break;case"REMOVE_INGREDIENT":e=Object(I.a)({},t,{ingredients:Object(I.a)({},t.ingredients,Object(ne.a)({},n.ingredientName,t.ingredients[n.ingredientName]-1)),totalCost:t.totalCost-t.ingredientPrices[n.ingredientName]});break;case"FETCH_INGREDIENT":e=Object(I.a)({},t,{ingredients:Object(I.a)({},n.ingredients)});break;case"FETCH_INGREDIENT_FAILED":e=Object(I.a)({},t,{error:n.error});break;default:e=t}return e},ie=n(51),ce=Object(te.c)({builder:re}),le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||te.d,oe=Object(te.e)(ce,le(Object(te.a)(ie.a))),se=r.a.createElement(p.a,null,r.a.createElement(ee,null));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y.a,{store:oe},se)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__2US69",BreadTop:"BurgerIngredient_BreadTop__3Y4-R",Seeds1:"BurgerIngredient_Seeds1__J6vUJ",Seeds2:"BurgerIngredient_Seeds2__2Ylex",Meat:"BurgerIngredient_Meat__3flwI",Cheese:"BurgerIngredient_Cheese__3rOTJ",Salad:"BurgerIngredient_Salad__KLnhy",Bacon:"BurgerIngredient_Bacon__1KK6n"}},45:function(e,t,n){},46:function(e,t,n){e.exports=n.p+"static/media/app-logo.b8503d26.png"},54:function(e,t,n){e.exports=n(100)},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){}},[[54,1,2]]]);
//# sourceMappingURL=main.bdcf3301.chunk.js.map